(function(e){function t(t){for(var i,s,r=t[0],l=t[1],c=t[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={app:0},o=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0b64":function(e,t,n){"use strict";n("e1ca")},"12f2":function(e,t,n){},"2d31":function(e,t,n){"use strict";n("bab5")},"3e61":function(e,t,n){"use strict";n("89d4")},4636:function(e,t,n){},4678:function(e,t,n){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=o,e.exports=a,a.id="4678"},"471c":function(e,t,n){},"57f3":function(e,t,n){"use strict";n("471c")},"5b0a":function(e,t,n){},"5c0b":function(e,t,n){"use strict";n("9c0c")},"5f8e":function(e,t,n){},"6d3f":function(e,t,n){"use strict";n("7ce5")},7253:function(e,t,n){"use strict";n("c646")},7591:function(e,t,n){"use strict";n("ecc3")},"75e9":function(e,t,n){},"787b":function(e,t,n){},"7cd1":function(e,t,n){"use strict";n("b2b2")},"7ce5":function(e,t,n){},"7e3d":function(e,t,n){"use strict";n("75e9")},8125:function(e,t,n){},"89d4":function(e,t,n){},"8f3c":function(e,t,n){"use strict";n("12f2")},"9c0c":function(e,t,n){},a9d5:function(e,t,n){"use strict";n("c810")},af7c:function(e,t,n){"use strict";n("8125")},b2a5:function(e,t,n){"use strict";n("5f8e")},b2b2:function(e,t,n){},bab5:function(e,t,n){},bbb8:function(e,t,n){"use strict";n("4636")},c646:function(e,t,n){},c810:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("a026"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],s=(n("5c0b"),n("2877")),r={},l=Object(s["a"])(r,a,o,!1,null,null,null),c=l.exports,u=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout-view"},[n("GraphView"),n("ToolBar"),n("ConfigBar"),n("StatusManager")],1)},p=[],f=n("d4ec"),m=n("262e"),h=n("2caf"),b=n("9ab4"),g=n("1b40"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"graph"},[n("div",{attrs:{id:"container"}}),n("div",{attrs:{id:"minimap"}}),n("ContextMenu")],1)},y=[],x=n("bee2"),_=n("2909"),j=n("5530"),k=(n("caad"),n("4de4"),n("159b"),n("7db0"),n("bf19"),n("d81d"),n("99af"),n("2532"),n("cb29"),n("d3b7"),n("25f0"),n("5728")),w=n("dba1"),O=function(e,t){return{container:e,snapline:!1,background:{color:"#f5f5f5"},grid:{visible:!1,size:1},scroller:{enabled:!0,pageVisible:!0,pannable:!0},mousewheel:{enabled:!0,modifiers:["ctrl","meta"],minScale:.2,maxScale:2},minimap:{enabled:!0,container:t,graphOptions:{async:!0,createCellView:function(e){if(e.isEdge())return null}}},rotating:{enabled:function(e){var t=["exhaust","exhaust-vertical","exhaust-B","exhaust-B-vertical","MonitoringPoint"];return!t.includes(e.shape)},grid:1},resizing:{enabled:function(e){var t=!0,n=["board","CenterBoard","domain","HeatPipe","MonitoringPoint"];return n.includes(e.shape)&&(t=!1),t},minHeight:function(e){var t=["exhaust","exhaust-B"];if(t.includes(e.shape))return e.getSize().height},maxHeight:function(e){var t=["exhaust","exhaust-B"];if(t.includes(e.shape))return e.getSize().height},minWidth:function(e){var t=["exhaust-vertical","exhaust-B-vertical"];if(t.includes(e.shape))return e.getSize().width},maxWidth:function(e){var t=["exhaust-vertical","exhaust-B-vertical"];if(t.includes(e.shape))return e.getSize().width}},selecting:{enabled:!0,filter:function(e){var t=!0,n=["board","CenterBoard","domain","HeatPipe"];return n.includes(e.shape)&&(t=!1),t}},interacting:function(e){var t=!0,n=["board","CenterBoard","domain","HeatPipe"];return n.includes(e.cell.shape)&&(t=!1),{nodeMovable:t}},translating:{restrict:function(e){var t;if(null!==(t=e.cell.data)&&void 0!==t&&t.lockPosition)return e.cell.getBBox();if(e.cell.parent)return e.cell.parent.getBBox();var n=["exhaust","exhaust-vertical","exhaust-B","exhaust-B-vertical"];if(n.includes(e.cell.shape)){var i=U.layoutBoard.getBBox(),a=e.cell.getBBox();return e.cell.shape.includes("vertical")?{x:a.left,y:i.top,height:i.height,width:a.width}:{x:i.left,y:a.top,height:a.height,width:i.width}}return U.graph.getGraphArea()}},keyboard:{enabled:!0,global:!0}}},z=(n("3e2f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-shape-node",on:{contextmenu:function(t){return e.onContextmenu(t)}}},[e.node?n("div",{staticClass:"node-content"},[n("div",{staticClass:"baseinfo"},[n("a-popover",{attrs:{title:"["+e.node.data.index+"]"+e.node.data.name,trigger:"click"}},[n("span",{staticClass:"node-name"},[e._v("["+e._s(e.node.data.index)+"]"+e._s(e.node.data.name))]),n("template",{slot:"content"},[n("div",{staticClass:"popover-content"},[n("div",{staticClass:"position item"},[n("div",{staticClass:"item"},[n("span",{staticClass:"item-label"},[e._v("x: ")]),n("span",{staticClass:"item-value"},[e._v(e._s(e.position.x))]),n("span",{staticClass:"item-label",staticStyle:{"margin-left":"10px"}},[e._v("y: ")]),n("span",{staticClass:"item-value"},[e._v(e._s(e.position.y))])]),n("div",{staticClass:"item"},[n("span",{staticClass:"item-label"},[e._v("width: ")]),n("span",{staticClass:"item-value"},[e._v(e._s(e.size.width))]),n("span",{staticClass:"item-label",staticStyle:{"margin-left":"10px"}},[e._v("height: ")]),n("span",{staticClass:"item-value"},[e._v(e._s(e.size.height))])]),n("div",{staticClass:"item"},[n("span",{staticClass:"item-label"},[e._v("质量: ")]),n("span",{staticClass:"item-value"},[e._v(e._s(e.data.mass))]),n("span",{staticClass:"item-label",staticStyle:{"margin-left":"10px"}},[e._v("热功耗: ")]),n("span",{staticClass:"item-value"},[e._v(e._s(e.data.power))])]),n("div",{staticClass:"item"},[n("span",{staticClass:"item-label"},[e._v("横跨热管数量: ")]),n("span",{staticClass:"item-value"},[e._v(e._s(e.data.comp_occupy_heatpipe_num))])])])])])],2)],1),e._m(0)]):n("div",{staticClass:"node-content"},[n("a-skeleton",{attrs:{paragraph:{rows:2}}})],1)])}),C=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail"},[n("div",{staticClass:"item"},[n("span",{staticClass:"item-label"},[e._v("质量: ")]),n("span",{staticClass:"item-value"},[e._v("199n")])]),n("div",{staticClass:"item"},[n("span",{staticClass:"item-label"},[e._v("热功耗: ")]),n("span",{staticClass:"item-value"},[e._v("100n")])])])}],$=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.node=null,e.position={},e.size={},e.data={},e.subscribes=[],e}return Object(x["a"])(n,[{key:"mounted",value:function(){console.log(this.id),this.id&&(this.node=U.graph.getCellById(this.id),this.position=this.node.getPosition(),this.size=this.node.getSize(),this.data=this.node.getData(),console.log(this.node),this.initSubscribes())}},{key:"initSubscribes",value:function(){this.subscribes.push(U.updateNodeProp$.subscribe(this.onUpdateNodeProp)),this.subscribes.push(U.nodeMoved$.subscribe(this.onNodeMoved)),this.subscribes.push(U.nodeResized$.subscribe(this.onNodeResized))}},{key:"destroyed",value:function(){console.log("component ".concat(this.id," destroyed")),this.subscribes.forEach((function(e){return e.unsubscribe()}))}},{key:"onUpdateNodeProp",value:function(e){var t,n=this,i=e.id,a=e.data;i&&i===(null===(t=this.node)||void 0===t?void 0:t.id)&&(a.forEach((function(e){var t;null===(t=n.node)||void 0===t||t.prop(e.key,e.value)})),this.data=this.node.getData())}},{key:"onNodeMoved",value:function(e){e&&e.id===this.node.id&&(this.position=this.node.position())}},{key:"onNodeResized",value:function(e){e&&e.id===this.node.id&&(this.size=this.node.size())}},{key:"onContextmenu",value:function(e){var t=e.pageX,n=e.pageY;U.contextMenuData$.next({position:{left:t+"px",top:n+"px"},node:this.node})}}]),n}(g["c"]);Object(b["a"])([Object(g["b"])()],$.prototype,"id",void 0),$=Object(b["a"])([Object(g["a"])({components:{}})],$);var S=$,N=S,P=(n("a9d5"),Object(s["a"])(N,z,C,!1,null,null,null)),B=P.exports;k["c"].registerVueComponent("VueShapeNode",{template:'<vue-shape-node :id="null" />',components:{VueShapeNode:B}},!0),k["j"].Rect.define({shape:"board",width:2686,height:2360,attrs:{body:{strokeWidth:1,fill:"rgba(0,0,0,0)",stroke:"#5755a1"}},zIndex:1}),k["j"].Rect.define({shape:"rectangle",width:100,height:100,attrs:{body:{strokeWidth:1,fill:"#bae7ff",stroke:"#69c0ff"}},zIndex:2}),k["j"].Rect.define({shape:"rounded-rect",width:100,height:100,attrs:{body:{strokeWidth:1,fill:"#efdbff",stroke:"#b37feb",rx:10,ry:10}},zIndex:2}),k["j"].Rect.define({shape:"elliptical-rect",width:200,height:50,attrs:{body:{strokeWidth:1,fill:"#ffd6e7",stroke:"#ff85c0",rx:"25",ry:"25"}},zIndex:2}),k["j"].Polygon.define({shape:"triangle",width:100,height:50,points:[[.5,0],[0,1],[1,1]],attrs:{body:{strokeWidth:1,fill:"#d9f7be",stroke:"#95de64"}},zIndex:2}),k["j"].Circle.define({shape:"circle-stroke",width:100,height:100,attrs:{body:{strokeWidth:1,fill:"#b5f5ec",stroke:"#5cdbd3"}},zIndex:2}),k["j"].Ellipse.define({shape:"ellipse-stroke",width:200,height:100,attrs:{body:{strokeWidth:1,fill:"#ffe7ba",stroke:"#ffc069"}},zIndex:2}),k["j"].Rect.define({shape:"exhaust",width:150,height:50,attrs:{body:{strokeWidth:1,fill:"#d9d9d9",stroke:"#595959"}},data:{name:"散热孔A",index:0,icon:"menu",fill:"#d9d9d9",stroke:"#595959",power_distribution:"gaussian",power_type:"uniform",power:[0,3e4]},zIndex:2}),k["j"].Rect.define({shape:"exhaust-vertical",width:50,height:150,attrs:{body:{strokeWidth:1,fill:"#d9d9d9",stroke:"#595959"}},data:{name:"散热孔A",index:0,icon:"menu",fill:"#d9d9d9",stroke:"#595959",power_distribution:"gaussian",power_type:"uniform",power:[0,3e4]},zIndex:2}),k["j"].Rect.define({shape:"exhaust-B",width:150,height:50,attrs:{body:{strokeWidth:1,fill:"#fff1e6",stroke:"#e6ac85"}},data:{name:"散热孔B",index:0,icon:"menu",fill:"#fff1e6",stroke:"#e6ac85",power_distribution:"gaussian",power_type:"uniform",power:[0,3e4],center:15},zIndex:2}),k["j"].Rect.define({shape:"exhaust-B-vertical",width:50,height:150,attrs:{body:{strokeWidth:1,fill:"#fff1e6",stroke:"#e6ac85"}},data:{name:"散热孔B",index:0,icon:"menu",fill:"#fff1e6",stroke:"#e6ac85",power_distribution:"gaussian",power_type:"uniform",power:[0,3e4],center:15},zIndex:2}),k["j"].Circle.define({shape:"MonitoringPoint",width:10,height:10,attrs:{body:{strokeWidth:1,fill:"#ffccc7",stroke:"#ff7875"}},data:{name:"监测点",index:0},zIndex:99});var M=n("21a6"),D=n("e2c1"),E=(n("b680"),function(e){return parseFloat(e.toFixed(4))}),I=function(e){U.selectedNode$.next(e.node)},R=function(e){console.log("select cancel"),U.selectedNode$.next(null)},F=function(e){U.resetNodeIndex()},Y=function(e){U.nodeResize$.next(e.node);var t=e.node;if("elliptical-rect"===t.shape){var n=t.getSize(),i=n.width,a=n.height,o=0;o=i>a?a/2:i/2,t.prop("attrs/body/rx",o),t.prop("attrs/body/ry",o)}},A=function(e){U.nodeResized$.next(e.node)},W=function(e){U.nodeRotated$.next(e.node)},V=function(e){U.nodeMove$.next(e.node)},q=function(e){U.StartMove(e.node)},T=function(e){U.EndMove(e.node),U.nodeMoved$.next(e.node)},H=function(e){U.cellContextmenu$.next(e),U.onContextmenuClick(e.e,e.node)},L=function(e){U.createMonitoringPoint(e)},U=function(){function e(){Object(f["a"])(this,e)}return Object(x["a"])(e,null,[{key:"init",value:function(t,n){var i=this,a=new k["c"](Object(j["a"])({},O(t,n)));a.on("node:selected",I),a.on("node:unselected",R),a.on("node:removed",F),a.on("node:resizing",Y),a.on("node:resized",A),a.on("node:moving",V),a.on("node:move",q),a.on("node:moved",T),a.on("node:rotated",W),a.on("node:contextmenu",H),a.on("node:click",L),e.graph=a,window.addEventListener("click",(function(){i.contextMenuData$.next({position:{left:"0px",top:"0px"},node:null})})),window.addEventListener("keydown",(function(e){"Alt"===e.key&&i.useMonitoringPoint$.next(!0)})),window.addEventListener("keyup",(function(e){"Alt"===e.key&&i.useMonitoringPoint$.next(!1)}))}},{key:"StartMove",value:function(e){this.currentSelectNode=e}},{key:"EndMove",value:function(e){this.flag1=!1}},{key:"onContextmenuClick",value:function(t,n){var i=["rectangle","rounded-rect","elliptical-rect","triangle","circle-stroke","ellipse-stroke","exhaust","exhaust-vertical","exhaust-B","exhaust-B-vertical","MonitoringPoint"];if(i.includes(n.shape)){var a=t,o=a.pageX,s=a.pageY;e.contextMenuData$.next({position:{left:o+"px",top:s+"px"},node:n})}}},{key:"initializationBoard",value:function(e){this.graph.clearCells(),this.layoutBoard=this.graph.addNode({width:e.layoutWidth,height:e.layoutHeight,x:100,y:100,shape:"board"})}},{key:"resetNodeIndex",value:function(){var t=this.graph.getNodes();console.log(t);var n=this.graph.getNodes().filter((function(e){return"vue-shape"===e.shape}));n.forEach((function(t,n){e.updateNodeProp$.next({id:t.id,data:[{key:"data",value:Object(j["a"])(Object(j["a"])({},t.data),{},{index:n+1})}]})}))}},{key:"checkPointAroundBoard",value:function(e){var t=e.x,n=e.y,i=this.layoutBoard.getBBox(),a="";return t>i.x&&t<i.x+i.width&&n<i.y+50&&n>i.y-50&&(a="top"),t>i.x&&t<i.x+i.width&&n<i.y+i.height+50&&n>i.y+i.height-50&&(a="bottom"),t>i.x-50&&t<i.x+50&&n>i.y&&n<i.y+i.height&&(a="left"),t>i.x+i.width-50&&t<i.x+i.width+50&&n>i.y&&n<i.y+i.height&&(a="right"),a}},{key:"addExhaust",value:function(t,n,i){var a=null,o=e.lastId$.getValue()+1,s=this.layoutBoard.getBBox();if("top"===t){var r=n.x;r<s.left&&(r=s.left),r>s.right-150&&(r=s.right-150);var l=s.top-50;a=this.graph.addNode({x:r,y:l,shape:i})}if("bottom"===t){var c=n.x;c<s.left&&(c=s.left),c>s.right-150&&(c=s.right-150);var u=s.bottom;a=this.graph.addNode({x:c,y:u,shape:i})}if("left"===t){var d=s.left-50,p=n.y;p<s.top&&(p=s.top),p>s.bottom-150&&(p=s.bottom-150),a=this.graph.addNode({x:d,y:p,shape:i+"-vertical"})}if("right"===t){var f=s.right,m=n.y;m<s.top&&(m=s.top),m>s.bottom-150&&(m=s.bottom-150),a=this.graph.addNode({x:f,y:m,shape:i+"-vertical"})}a&&a.prop("data/index",o),e.lastId$.next(o)}},{key:"createMonitoringPoint",value:function(e){if(this.useMonitoringPoint$.getValue()){console.log(e);var t=e.node,n=e.x,i=e.y,a=(e.e,this.graph.findViewsFromPoint(t.getPosition())),o=a.find((function(e){return"board"===e.cell.shape})),s={x:n>105?n-5:n,y:i>105?i-5:i};o&&o.cell.addChild(this.graph.addNode(Object(j["a"])(Object(j["a"])({},s),{},{shape:"MonitoringPoint"})))}}},{key:"createYml",value:function(e){var t=this.graph.toJSON();console.log(t);var n=t.cells.find((function(e){return"board"===e.shape}));if(n){var i=n.position,a=["exhaust","exhaust-vertical","exhaust-B","exhaust-B-vertical"],o=t.cells.filter((function(e){return a.includes(e.shape)})),s=["rectangle","rounded-rect","elliptical-rect","triangle","circle-stroke","ellipse-stroke"],r=t.cells.filter((function(e){return s.includes(e.shape)})),l={rectangle:"rectangle","circle-stroke":"circle","elliptical-rect":"capsule"};console.log(o),console.log(r),e.units=r.map((function(t){var i=t.size,a=i.width,o=i.height;if("circle-stroke"!==t.shape){var s=a/n.size.width*e.length,r=o/n.size.height*e.length;return[E(s),E(r)]}var l=Math.min(a,o),c=l/n.size.width*e.length,u=l/n.size.height*e.length;return[E(c),E(u)]})),e.positions=r.map((function(t){var a=t.position,o=a.x,s=a.y,r=(o+.5*t.size.width-i.x)/n.size.width*e.nx,l=(1-(s+.5*t.size.height-i.y)/n.size.height)*e.nx;return[E(r),E(l)]})),e.angles=r.map((function(e){var t=360-(e.angle||0);return t<0&&(t+=360),t>=360&&(t-=360),t})),e.powers=r.map((function(e){return[e.data.power_type].concat(Object(_["a"])(e.data.power))})),e.power_distribution=r.map((function(e){return e.data.power_distribution})),e.geometry=r.map((function(e){return l[e.shape]||e.shape})),e.bcs=o.map((function(t){var a,o,s,r,l,c,u,d=[],p=0;(null!==(a=t.shape)&&void 0!==a&&a.includes("vertical")?(s=r=t.position.x<n.position.x?n.position.x-i.x:n.position.x-i.x+n.size.width,l=t.position.y-i.y,p=t.position.y-i.y+t.size.height):(s=t.position.x-i.x,r=t.position.x-i.x+t.size.width,l=p=t.position.y<n.position.y?n.position.y-i.y:n.position.y-i.y+n.size.height),s=E(s/n.size.width*e.length),r=E(r/n.size.width*e.length),l=E((1-l/n.size.height)*e.length),p=E((1-p/n.size.height)*e.length),null!==(o=t.shape)&&void 0!==o&&o.includes("-B"))?d=null!==(c=t.shape)&&void 0!==c&&c.includes("vertical")?["sine-wave",[[r,p],[s,l]],t.data.center]:["sine-wave",[[s,l],[r,p]],t.data.center]:d=null!==(u=t.shape)&&void 0!==u&&u.includes("vertical")?["sink",[[r,p],[s,l]]]:["sink",[[s,l],[r,p]]];return d})),console.log(e),this.saveYml(e)}}},{key:"saveYml",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"config.yml",n=new Blob([D["a"].dump(e)],{type:"text/plain;charset=utf-8"});Object(M["saveAs"])(n,t)}},{key:"createMonitoringPointFile",value:function(){var e=this.nx$.getValue(),t=JSON.parse(JSON.stringify(new Array(e).fill(new Array(e).fill(0)))),n=this.graph.getNodes().filter((function(e){return"MonitoringPoint"===e.shape})),i=this.layoutBoard.getPosition(),a=this.layoutBoard.getSize(),o=a.width/e,s=a.height/e;n.forEach((function(e){var n=e.getBBox().center,a={x:n.x-i.x,y:n.y-i.y},r=a.x,l=a.y;console.log(r,l);var c=parseInt((r/o).toString()),u=parseInt((l/s).toString());t[u][c]=1}));var r=t.reverse();this.saveMonitoringPointFile(r)}},{key:"saveMonitoringPointFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"point.txt",n=new Blob([JSON.stringify(e)],{type:"text/plain;charset=utf-8"});Object(M["saveAs"])(n,t)}}]),e}();U.canEdit$=new w["a"](!1),U.lastId$=new w["a"](0),U.selectedNode$=new w["a"](null),U.updateNodeProp$=new w["a"]({id:"",data:[]}),U.nodePropUpdated$=new w["a"](null),U.cellContextmenu$=new w["a"](null),U.contextMenuData$=new w["a"]({position:{left:"0px",top:"0px"},node:null}),U.nodeMove$=new w["a"](null),U.nodeMoved$=new w["a"](null),U.nodeResize$=new w["a"](null),U.nodeResized$=new w["a"](null),U.nodeRotated$=new w["a"](null),U.optimizationStage$=new w["a"]({plan:null,step:1}),U.nx$=new w["a"](200),U.disabledKey$=new w["a"](!1),U.useMonitoringPoint$=new w["a"](!1),U.flag1=!1;var J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{staticClass:"context-menu",style:Object.assign({},e.contextMenuPosition)},[n("a-menu",{staticClass:"node-menu"},[n("a-menu-item",{on:{click:e.deleteNode}},[n("a",{staticStyle:{color:"#F54B4B"},attrs:{href:"javascript:;"}},[e._v("删除")])])],1)],1):e._e()},X=[],G=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.show=!1,e.contextMenuPosition={left:"0px",top:"0px"},e.node=null,e.subscribes=[],e}return Object(x["a"])(n,[{key:"mounted",value:function(){this.initSubscribes()}},{key:"initSubscribes",value:function(){var e=this;this.subscribes.push(U.contextMenuData$.subscribe((function(t){e.show=null!==t.node,e.node=t.node,e.contextMenuPosition=t.position})))}},{key:"destroyed",value:function(){this.subscribes.forEach((function(e){return e.unsubscribe()}))}},{key:"deleteNode",value:function(){U.graph.removeNode(this.node.id)}}]),n}(g["c"]);G=Object(b["a"])([Object(g["a"])({components:{}})],G);var K=G,Q=K,Z=(n("af7c"),Object(s["a"])(Q,J,X,!1,null,null,null)),ee=Z.exports,te=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(f["a"])(this,n),t.apply(this,arguments)}return Object(x["a"])(n,[{key:"mounted",value:function(){U.init(document.getElementById("container"),document.getElementById("minimap"))}},{key:"destroyed",value:function(){}}]),n}(g["c"]);te=Object(b["a"])([Object(g["a"])({components:{ContextMenu:ee}})],te);var ne=te,ie=ne,ae=(n("7e3d"),Object(s["a"])(ie,v,y,!1,null,null,null)),oe=ae.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toolbar"},[n("div",{staticClass:"add-icon"},[n("a-tooltip",{attrs:{placement:"right",title:"添加组件"}},[n("a-icon",{attrs:{type:"plus-circle",theme:"filled"},on:{click:function(t){e.addCompDrawer=!0}}})],1),n("a-drawer",{attrs:{title:"添加组件",placement:"left",closable:!0,visible:e.addCompDrawer,mask:!1},on:{close:function(t){e.addCompDrawer=!1}}},[n("AddComponent")],1)],1),n("div",{staticClass:"init-icon"},[n("a-tooltip",{attrs:{placement:"right",title:"初始化布局"}},[n("a-icon",{attrs:{type:"redo"},on:{click:function(t){e.InitializationDrawer=!0}}})],1),n("a-drawer",{attrs:{title:"初始化布局",placement:"left",closable:!0,visible:e.InitializationDrawer,mask:!1},on:{close:function(t){e.InitializationDrawer=!1}}},[n("Initialization",{on:{submit:function(t){e.InitializationDrawer=!1}}})],1)],1),n("div",{staticClass:"init-icon"},[n("a-tooltip",{attrs:{placement:"right",title:"全局配置"}},[n("a-icon",{attrs:{type:"setting"},on:{click:function(t){e.settingDrawer=!0}}})],1),n("a-drawer",{attrs:{title:"全局配置",placement:"left",closable:!0,visible:e.settingDrawer,mask:!1},on:{close:function(t){e.settingDrawer=!1}}},[n("Settings",{on:{submit:function(t){e.settingDrawer=!1}}})],1)],1),n("div",{staticClass:"init-icon"},[n("a-tooltip",{attrs:{placement:"right",title:"生成yml"}},[n("a-icon",{attrs:{type:"file-text"},on:{click:function(t){e.createYmlModal=!0}}})],1),n("a-modal",{attrs:{title:"生成yml",okText:"确定",cancelText:"取消",width:1e3},on:{ok:e.createYml},model:{value:e.createYmlModal,callback:function(t){e.createYmlModal=t},expression:"createYmlModal"}},[n("CreateYml",{ref:"createYmlComp"})],1)],1),n("div",{staticClass:"init-icon"},[n("a-tooltip",{attrs:{placement:"right",title:"生成监测点数据"}},[n("a-icon",{attrs:{type:"border-outer"},on:{click:e.createMonitoringPoint}})],1)],1)])},re=[],le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-component"},[n("div",{staticClass:"component-group"},[n("a-divider",{attrs:{orientation:"left"}},[e._v(" 基础组件 ")]),e._l(e.components,(function(t,i){return n("div",{key:i,on:{mousedown:function(n){return e.drag(n,t)}}},[n("ComponentNode",{attrs:{nodeData:t.data}})],1)}))],2)])},ce=[],ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"component-node"},[n("div",{staticClass:"icon"},[e.nodeData.icon?[e.checkIconUrl(e.nodeData.icon)?[n("img",{attrs:{src:e.nodeData.icon}})]:[n("a-icon",{attrs:{type:e.nodeData.icon}})]]:[n("a-icon",{attrs:{type:"appstore"}})]],2),n("div",{staticClass:"name"},[e._v(e._s(e.nodeData.name))])])},de=[],pe=(n("ac1f"),n("841c"),function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(f["a"])(this,n),t.apply(this,arguments)}return Object(x["a"])(n,[{key:"mounted",value:function(){}},{key:"checkIconUrl",value:function(e){return-1!==e.search("http://")||-1!==e.search("https://")}}]),n}(g["c"]));Object(b["a"])([Object(g["b"])()],pe.prototype,"nodeData",void 0),pe=Object(b["a"])([Object(g["a"])({components:{}})],pe);var fe=pe,me=fe,he=(n("8f3c"),Object(s["a"])(me,ue,de,!1,null,null,null)),be=he.exports,ge=[{shape:"rectangle",data:{name:"矩形 ",index:0,icon:"menu",fill:"#bae7ff",stroke:"#69c0ff",power_distribution:"gaussian",power_type:"uniform",power:[0,3e4]}},{shape:"rounded-rect",data:{name:"圆角矩形",index:0,icon:"menu",fill:"#efdbff",stroke:"#b37feb",rx:10,ry:10,power_distribution:"gaussian",power_type:"uniform",power:[0,3e4]}},{shape:"elliptical-rect",data:{name:"椭圆矩形",index:0,icon:"menu",fill:"#ffd6e7",stroke:"#ff85c0",rx:25,ry:50,power_distribution:"gaussian",power_type:"uniform",power:[0,3e4]}},{shape:"triangle",data:{name:"三角形",index:0,icon:"menu",fill:"#d9f7be",stroke:"#95de64",power_distribution:"gaussian",power_type:"uniform",power:[0,3e4]}},{shape:"circle-stroke",data:{name:"圆形",index:0,icon:"menu",fill:"#b5f5ec",stroke:"#5cdbd3",power_distribution:"gaussian",power_type:"uniform",power:[0,3e4]}},{shape:"ellipse-stroke",data:{name:"椭圆形",index:0,icon:"menu",fill:"#ffe7ba",stroke:"#ffc069",power_distribution:"gaussian",power_type:"uniform",power:[0,3e4]}},{shape:"exhaust",data:{name:"散热孔A",index:0,icon:"menu",fill:"#fafafa",stroke:"#f0f0f0",power_distribution:"gaussian",power_type:"uniform",power:[0,3e4]}},{shape:"exhaust-B",data:{name:"散热孔B",index:0,icon:"menu",fill:"#fafafa",stroke:"#f0f0f0",power_distribution:"gaussian",power_type:"uniform",power:[0,3e4]}}],ve=ge,ye=n("ec26"),xe=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.dragOut=new w["a"](!1),e.components=ve,e.draggingComp=new w["a"]({}),e.dnd=new k["a"].Dnd({target:U.graph,getDropNode:function(e){var t=e.clone(),n=U.lastId$.getValue()+1,i=Object(ye["a"])(),a=Object(j["a"])(Object(j["a"])({},t.data),{},{index:n.toString(),id:i});return t.id=i,t.setData(a),t},validateNode:function(t,n){window.removeEventListener("mousemove",e.onDragOut);var i=e.dragOut.getValue();if(i){var a=["exhaust","exhaust-B"];if(a.includes(t.shape)){var o=U.checkPointAroundBoard(t.getBBox().getCenter());return""===o?e.$message.error("该节点只能放置于布局板边缘"):U.addExhaust(o,t.getBBox(),t.shape),!1}var s=U.graph.getNodesFromPoint(t.getPosition()),r=s.find((function(e){return"board"===e.shape}));return r?(t.zIndex=2,r.addChild(t),U.lastId$.next(parseInt(t.data.index)),!0):(e.$message.error("该节点只能放置在可布局区域内"),!1)}return i}}),e}return Object(x["a"])(n,[{key:"onDragOut",value:function(e){e.clientX>256&&this.dragOut.next(!0)}},{key:"drag",value:function(e,t){this.draggingComp.next(t),this.dragOut.next(!1),window.addEventListener("mousemove",this.onDragOut),this.dnd.start(U.graph.createNode(t),e)}}]),n}(g["c"]);xe=Object(b["a"])([Object(g["a"])({components:{ComponentNode:be}})],xe);var _e=xe,je=_e,ke=(n("6d3f"),Object(s["a"])(je,le,ce,!1,null,null,null)),we=ke.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"initialization"},[n("a-form-model",{ref:"initForm",attrs:{layout:"vertical",model:e.form,rules:e.rules}},[n("a-form-model-item",{attrs:{label:"布局板长",prop:"layoutWidth"}},[n("a-input-number",{staticStyle:{width:"100%"},attrs:{min:100,max:1e4,placeholder:"请输入"},model:{value:e.form.layoutWidth,callback:function(t){e.$set(e.form,"layoutWidth",t)},expression:"form.layoutWidth"}})],1),n("a-form-model-item",{attrs:{label:"布局板宽",prop:"layoutHeight"}},[n("a-input-number",{staticStyle:{width:"100%"},attrs:{min:100,max:1e4,placeholder:"请输入"},model:{value:e.form.layoutHeight,callback:function(t){e.$set(e.form,"layoutHeight",t)},expression:"form.layoutHeight"}})],1),n("a-form-model-item",[n("a-button",{attrs:{type:"primary",block:""},on:{click:e.onSubmit}},[e._v(" 确定初始化 ")])],1)],1)],1)},ze=[],Ce=function e(){Object(f["a"])(this,e),this.layoutWidth=2e3,this.layoutHeight=2e3},$e=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.form=new Ce,e.rules={layoutWidth:[{required:!0,message:"该项是必填项",trigger:"change"}],layoutHeight:[{required:!0,message:"该项是必填项",trigger:"change"}]},e}return Object(x["a"])(n,[{key:"mounted",value:function(){}},{key:"onSubmit",value:function(){var e=this;this.$refs.initForm.validate((function(t){t?(e.$emit("submit"),U.initializationBoard(e.form)):console.log("error submit!!")}))}}]),n}(g["c"]);$e=Object(b["a"])([Object(g["a"])({components:{}})],$e);var Se,Ne=$e,Pe=Ne,Be=(n("bbb8"),Object(s["a"])(Pe,Oe,ze,!1,null,null,null)),Me=Be.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"optimization"},[null===e.optimizationStage.plan?[n("a-form-model",{ref:"initForm",attrs:{layout:"vertical",model:e.form,rules:e.rules}},[n("a-form-model-item",{attrs:{label:"优化方案",prop:"plan"}},[n("a-select",{staticStyle:{width:"100%"},attrs:{"default-value":"lucy"},model:{value:e.form.plan,callback:function(t){e.$set(e.form,"plan",t)},expression:"form.plan"}},e._l(e.plans,(function(t,i){return n("a-select-option",{key:i,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),n("a-form-model-item",[n("a-button",{attrs:{type:"primary",block:""},on:{click:e.onSubmit}},[e._v(" 下一步 ")])],1)],1)]:[n("div",{staticClass:"optimization-stage-info"},[n("div",{staticClass:"optimization-stage-info-row"},[e._v("优化方案: "+e._s(e.optimizationStage.plan))]),n("div",{staticClass:"optimization-stage-info-row"},[e._v("优化阶段："+e._s(e.optimizationStage.step))])]),e.optimizationStage.plan===e.plans.one&&1===e.optimizationStage.step?n("PlanOneStepOne",{attrs:{optimizationStage:e.optimizationStage}}):e._e(),e.optimizationStage.plan===e.plans.one&&2===e.optimizationStage.step?n("PlanOneStepTwo",{attrs:{optimizationStage:e.optimizationStage}}):e._e()]],2)},Ee=[];(function(e){e["one"]="方案一"})(Se||(Se={}));var Ie=function e(){Object(f["a"])(this,e),this.plan=Se.one},Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"plan-1-step-1"},[n("a-form-model",{ref:"initForm",attrs:{layout:"vertical",model:e.form,rules:e.rules}},[n("a-form-model-item",{attrs:{label:"填写参数",prop:"v"}},[n("a-select",{staticStyle:{width:"100%"},attrs:{"default-value":"kano"},model:{value:e.form.v,callback:function(t){e.$set(e.form,"v",t)},expression:"form.v"}},[n("a-select-option",{attrs:{value:"kano"}},[e._v(" kano ")]),n("a-select-option",{attrs:{value:"hanser"}},[e._v(" hanser ")])],1)],1),n("a-form-model-item",{staticClass:"item-btns"},[n("a-button",{attrs:{type:"primary",block:""},on:{click:e.onSubmit}},[e._v(" 开始优化 ")]),n("a-button",{attrs:{type:"primary",block:""},on:{click:e.next}},[e._v(" 下一步 ")]),n("a-button",{attrs:{block:""},on:{click:e.back}},[e._v(" 回到上一步 ")])],1)],1)],1)},Fe=[],Ye=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.form={v:"kano"},e.plans=Se,e.rules={v:[{required:!0,message:"该项是必填项",trigger:"change"}]},e.subscribes=[],e}return Object(x["a"])(n,[{key:"mounted",value:function(){}},{key:"destroyed",value:function(){this.subscribes.forEach((function(e){return e.unsubscribe()}))}},{key:"onSubmit",value:function(){var e=this;this.$refs.initForm.validate((function(t){t?(e.$emit("submit"),console.log(e.form)):console.log("error submit!!")}))}},{key:"next",value:function(){U.optimizationStage$.next({plan:this.optimizationStage.plan,step:2})}},{key:"back",value:function(){U.optimizationStage$.next({plan:null,step:1})}}]),n}(g["c"]);Object(b["a"])([Object(g["b"])()],Ye.prototype,"optimizationStage",void 0),Ye=Object(b["a"])([Object(g["a"])({components:{}})],Ye);var Ae=Ye,We=Ae,Ve=(n("57f3"),Object(s["a"])(We,Re,Fe,!1,null,null,null)),qe=Ve.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"plan-1-step-2"},[n("a-form-model",{ref:"initForm",attrs:{layout:"vertical",model:e.form,rules:e.rules}},[n("a-form-model-item",{attrs:{label:"填写参数",prop:"v"}},[n("a-select",{staticStyle:{width:"100%"},attrs:{"default-value":"nana"},model:{value:e.form.v,callback:function(t){e.$set(e.form,"v",t)},expression:"form.v"}},[n("a-select-option",{attrs:{value:"nana"}},[e._v(" nana ")]),n("a-select-option",{attrs:{value:"hanser"}},[e._v(" hanser ")])],1)],1),n("a-form-model-item",{staticClass:"item-btns"},[n("a-button",{attrs:{type:"primary",block:""},on:{click:e.onSubmit}},[e._v(" 开始优化 ")]),n("a-button",{attrs:{type:"primary",block:""},on:{click:e.next}},[e._v(" 下一步 ")]),n("a-button",{attrs:{block:""},on:{click:e.back}},[e._v(" 回到上一步 ")])],1)],1)],1)},He=[],Le=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.form={v:"nana"},e.plans=Se,e.rules={v:[{required:!0,message:"该项是必填项",trigger:"change"}]},e.subscribes=[],e}return Object(x["a"])(n,[{key:"mounted",value:function(){}},{key:"destroyed",value:function(){this.subscribes.forEach((function(e){return e.unsubscribe()}))}},{key:"onSubmit",value:function(){var e=this;this.$refs.initForm.validate((function(t){t?(e.$emit("submit"),console.log(e.form)):console.log("error submit!!")}))}},{key:"next",value:function(){}},{key:"back",value:function(){U.optimizationStage$.next({plan:this.optimizationStage.plan,step:1})}}]),n}(g["c"]);Object(b["a"])([Object(g["b"])()],Le.prototype,"optimizationStage",void 0),Le=Object(b["a"])([Object(g["a"])({components:{}})],Le);var Ue=Le,Je=Ue,Xe=(n("0b64"),Object(s["a"])(Je,Te,He,!1,null,null,null)),Ge=Xe.exports,Ke=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.form=new Ie,e.plans=Se,e.rules={plan:[{required:!0,message:"该项是必填项",trigger:"change"}]},e.optimizationStage=U.optimizationStage$.getValue(),e.subscribes=[],e}return Object(x["a"])(n,[{key:"mounted",value:function(){var e=this;this.subscribes.push(U.optimizationStage$.subscribe((function(t){return e.optimizationStage=t})))}},{key:"destroyed",value:function(){this.subscribes.forEach((function(e){return e.unsubscribe()}))}},{key:"onSubmit",value:function(){var e=this;this.$refs.initForm.validate((function(t){t?(e.$emit("submit"),console.log(e.form),U.optimizationStage$.next({plan:e.form.plan,step:1})):console.log("error submit!!")}))}}]),n}(g["c"]);Ke=Object(b["a"])([Object(g["a"])({components:{PlanOneStepOne:qe,PlanOneStepTwo:Ge}})],Ke);var Qe=Ke,Ze=Qe,et=(n("f7a8"),Object(s["a"])(Ze,De,Ee,!1,null,null,null)),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-yml"},[n("a-form-model",{ref:"initForm",attrs:{model:e.form,layout:"horizontal",labelCol:{span:8},wrapperCol:{span:15}}},[n("a-row",[n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"task"}},[n("a-input",{model:{value:e.form.task,callback:function(t){e.$set(e.form,"task",t)},expression:"form.task"}})],1),n("a-form-model-item",{attrs:{label:"ndim"}},[n("a-input-number",{model:{value:e.form.ndim,callback:function(t){e.$set(e.form,"ndim",t)},expression:"form.ndim"}})],1),n("a-form-model-item",{attrs:{label:"nx"}},[n("a-input-number",{attrs:{disabled:""},model:{value:e.form.nx,callback:function(t){e.$set(e.form,"nx",t)},expression:"form.nx"}}),n("a-tooltip",{attrs:{placement:"top",title:"nx可在全局配置中修改"}},[n("a-icon",{staticStyle:{color:"#8c8c8c","margin-left":"5px",cursor:"pointer"},attrs:{type:"question-circle",theme:"filled"}})],1)],1),n("a-form-model-item",{attrs:{label:"length"}},[n("a-input-number",{model:{value:e.form.length,callback:function(t){e.$set(e.form,"length",t)},expression:"form.length"}})],1),n("a-form-model-item",{attrs:{label:"u_D"}},[n("a-input-number",{model:{value:e.form.u_D,callback:function(t){e.$set(e.form,"u_D",t)},expression:"form.u_D"}})],1),n("a-form-model-item",{attrs:{label:"positions_type"}},[n("a-auto-complete",{model:{value:e.form.positions_type,callback:function(t){e.$set(e.form,"positions_type",t)},expression:"form.positions_type"}},[n("template",{slot:"dataSource"},[n("a-select-option",{key:"coord"},[e._v("coord")]),n("a-select-option",{key:"grid"},[e._v("grid")])],1)],2)],1),n("a-form-model-item",{attrs:{label:"gaussian_param"}},[n("a-input-number",{model:{value:e.form.gaussian_param,callback:function(t){e.$set(e.form,"gaussian_param",t)},expression:"form.gaussian_param"}})],1),n("a-form-model-item",{attrs:{label:"monitoring_sampling"}},[n("a-auto-complete",{on:{change:e.monitoring_sampling_changed},model:{value:e.monitoring_sampling_type,callback:function(t){e.monitoring_sampling_type=t},expression:"monitoring_sampling_type"}},[n("template",{slot:"dataSource"},[n("a-select-option",{key:"random"},[e._v("random")]),n("a-select-option",{key:"center"},[e._v("center")]),n("a-select-option",{key:"uniform"},[e._v("uniform")]),n("a-select-option",{key:"file"},[e._v("file")])],1)],2),["random","center","uniform"].includes(e.monitoring_sampling_type)?n("a-input-number",{on:{change:e.monitoring_sampling_changed},model:{value:e.monitoring_sampling_params[0],callback:function(t){e.$set(e.monitoring_sampling_params,0,t)},expression:"monitoring_sampling_params[0]"}}):e._e(),["center","uniform"].includes(e.monitoring_sampling_type)?n("a-input-number",{staticStyle:{"margin-left":"10px"},on:{change:e.monitoring_sampling_changed},model:{value:e.monitoring_sampling_params[1],callback:function(t){e.$set(e.monitoring_sampling_params,1,t)},expression:"monitoring_sampling_params[1]"}}):e._e(),["file"].includes(e.monitoring_sampling_type)?n("a-input",{attrs:{placeholder:"路径"},on:{change:e.monitoring_sampling_changed},model:{value:e.monitoring_sampling_filePath,callback:function(t){e.monitoring_sampling_filePath=t},expression:"monitoring_sampling_filePath"}}):e._e(),["random","center","uniform","file"].includes(e.monitoring_sampling_type)?e._e():n("a-input",{attrs:{placeholder:"自定义参数"},on:{change:e.monitoring_sampling_changed},model:{value:e.monitoring_sampling_custom,callback:function(t){e.monitoring_sampling_custom=t},expression:"monitoring_sampling_custom"}})],1)],1),n("a-col",{attrs:{span:12}},[n("a-form-model-item",{attrs:{label:"data_dir"}},[n("a-input",{model:{value:e.form.data_dir,callback:function(t){e.$set(e.form,"data_dir",t)},expression:"form.data_dir"}})],1),n("a-form-model-item",{attrs:{label:"file_format"}},[n("a-input",{model:{value:e.form.file_format,callback:function(t){e.$set(e.form,"file_format",t)},expression:"form.file_format"}})],1),n("a-form-model-item",{attrs:{label:"prefix"}},[n("a-input",{model:{value:e.form.prefix,callback:function(t){e.$set(e.form,"prefix",t)},expression:"form.prefix"}})],1),n("a-form-model-item",{attrs:{label:"sample_n"}},[n("a-input-number",{model:{value:e.form.sample_n,callback:function(t){e.$set(e.form,"sample_n",t)},expression:"form.sample_n"}})],1),n("a-form-model-item",{attrs:{label:"special"}},[n("a-auto-complete",{model:{value:e.form.special,callback:function(t){e.$set(e.form,"special",t)},expression:"form.special"}},[n("template",{slot:"dataSource"},[n("a-select-option",{key:"y"},[e._v("y")]),n("a-select-option",{key:"n"},[e._v("n")])],1)],2)],1),n("a-form-model-item",{attrs:{label:"special_num"}},[n("a-input-number",{model:{value:e.form.special_num,callback:function(t){e.$set(e.form,"special_num",t)},expression:"form.special_num"}})],1),n("a-form-model-item",{attrs:{label:"fem_degree"}},[n("a-input-number",{model:{value:e.form.fem_degree,callback:function(t){e.$set(e.form,"fem_degree",t)},expression:"form.fem_degree"}})],1),n("a-form-model-item",{attrs:{label:"method"}},[n("a-input",{model:{value:e.form.method,callback:function(t){e.$set(e.form,"method",t)},expression:"form.method"}})],1)],1)],1)],1)],1)},it=[],at=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.form={task:"continuous",ndim:2,length:.1,nx:200,u_D:298,bcs:[],units:[],powers:[],geometry:[],power_distribution:[],angles:[],positions_type:"grid",positions:[],gaussian_param:1,monitoring_sampling:[["file","config/Example0.mat"]],data_dir:"example_dataset",file_format:"mat",prefix:"Example",sample_n:2,special:"n",special_num:0,fem_degree:1,method:"fenics"},e.monitoring_sampling_type="file",e.monitoring_sampling_params=[0,0],e.monitoring_sampling_filePath="config/Example0.mat",e.monitoring_sampling_custom="",e.subscribes=[],e}return Object(x["a"])(n,[{key:"mounted",value:function(){this.initSubscribes()}},{key:"initSubscribes",value:function(){var e=this;this.subscribes.push(U.nx$.subscribe((function(t){e.form.nx=t})))}},{key:"destroyed",value:function(){this.subscribes.forEach((function(e){return e.unsubscribe()}))}},{key:"monitoring_sampling_changed",value:function(){switch(this.monitoring_sampling_type){case"random":this.form.monitoring_sampling=[["random",this.monitoring_sampling_params[0]]];break;case"center":this.form.monitoring_sampling=[["center",this.monitoring_sampling_params[0],this.monitoring_sampling_params[1]]];break;case"uniform":this.form.monitoring_sampling=[["uniform",this.monitoring_sampling_params[0],this.monitoring_sampling_params[1]]];break;case"file":this.form.monitoring_sampling=[["file",this.monitoring_sampling_filePath]];break;default:this.form.monitoring_sampling=[[this.monitoring_sampling_type,this.monitoring_sampling_custom]];break}}},{key:"createYml",value:function(){U.createYml(this.form)}}]),n}(g["c"]);at=Object(b["a"])([Object(g["a"])({components:{}})],at);var ot=at,st=ot,rt=(n("b2a5"),Object(s["a"])(st,nt,it,!1,null,null,null)),lt=rt.exports,ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings"},[n("a-form-model",{ref:"initForm",attrs:{layout:"vertical",model:e.form,rules:e.rules}},[n("a-form-model-item",{attrs:{prop:"nx"}},[n("template",{slot:"label"},[n("div",{staticStyle:{display:"inline-block"}},[n("span",[e._v("nx")]),n("a-tooltip",{attrs:{placement:"right",title:"YML文件和监测点数据的nx值"}},[n("a-icon",{staticStyle:{color:"#8c8c8c","margin-left":"5px",cursor:"pointer"},attrs:{type:"question-circle",theme:"filled"}})],1)],1)]),n("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1,placeholder:"请输入"},model:{value:e.form.nx,callback:function(t){e.$set(e.form,"nx",t)},expression:"form.nx"}})],2)],1)],1)},ut=[],dt=function e(){Object(f["a"])(this,e),this.nx=200},pt=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.form=new dt,e.rules={nx:[{required:!0,message:"该项是必填项",trigger:"change"}]},e.subscribes=[],e}return Object(x["a"])(n,[{key:"mounted",value:function(){this.initSubscribes()}},{key:"initSubscribes",value:function(){var e=this;this.subscribes.push(U.nx$.subscribe((function(t){e.form.nx=t})))}},{key:"destroyed",value:function(){this.subscribes.forEach((function(e){return e.unsubscribe()}))}}]),n}(g["c"]);pt=Object(b["a"])([Object(g["a"])({components:{}})],pt);var ft=pt,mt=ft,ht=(n("7253"),Object(s["a"])(mt,ct,ut,!1,null,null,null)),bt=ht.exports,gt=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.addCompDrawer=!1,e.InitializationDrawer=!1,e.settingDrawer=!1,e.optimizationDrawer=!1,e.createYmlModal=!1,e}return Object(x["a"])(n,[{key:"createYml",value:function(){this.$refs.createYmlComp.createYml()}},{key:"createMonitoringPoint",value:function(){U.createMonitoringPointFile()}}]),n}(g["c"]);gt=Object(b["a"])([Object(g["a"])({components:{AddComponent:we,Initialization:Me,Optimization:tt,CreateYml:lt,Settings:bt}})],gt);var vt=gt,yt=vt,xt=(n("2d31"),Object(s["a"])(yt,se,re,!1,null,null,null)),_t=xt.exports,jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"configbar"},[n("a-drawer",{attrs:{title:"组件属性",placement:"right",visible:e.nodeConfigDrawer,mask:!1,closable:!0},on:{close:e.nodeConfigDrawerClose}},[e.selectedNode?n("NodeProperty",{attrs:{node:e.selectedNode}}):e._e()],1)],1)},kt=[],wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node-property"},[n("a-form-model",{ref:"initForm",attrs:{model:e.form,layout:"vertical"}},[["MonitoringPoint"].includes(e.node.shape)?e._e():n("a-row",{staticStyle:{"margin-bottom":"10px"}},[n("a-col",{attrs:{span:8}},[e._v("组件序号：")]),n("a-col",{attrs:{span:16}},[e._v(e._s(e.data.index))])],1),n("a-form-model-item",{attrs:{label:"组件名(Name)"}},[n("a-input",{on:{change:e.onNodeDataChange},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),["exhaust","exhaust-vertical","exhaust-B","exhaust-B-vertical","MonitoringPoint"].includes(e.node.shape)?e._e():n("a-form-model-item",[n("template",{slot:"label"},[n("div",[n("span",[e._v("位置(Position)")]),n("a-tooltip",{attrs:{placement:"top",title:"组件位置，坐标为组件的左上角"}},[n("a-icon",{staticStyle:{color:"#8c8c8c","margin-left":"5px",cursor:"pointer"},attrs:{type:"question-circle",theme:"filled"}})],1)],1)]),n("a-row",{attrs:{type:"flex"}},[n("a-col",{attrs:{span:12}},[n("label",[e._v("X ")]),n("a-input-number",{on:{change:function(t){return e.onNodePositionChange()}},model:{value:e.position.x,callback:function(t){e.$set(e.position,"x",t)},expression:"position.x"}})],1),n("a-col",{attrs:{span:12}},[n("label",[e._v("Y ")]),n("a-input-number",{on:{change:function(t){return e.onNodePositionChange()}},model:{value:e.position.y,callback:function(t){e.$set(e.position,"y",t)},expression:"position.y"}})],1)],1)],2),["exhaust","exhaust-vertical","exhaust-B","exhaust-B-vertical"].includes(e.node.shape)?n("a-form-model-item",[n("template",{slot:"label"},[n("div",[n("span",[e._v("位置(Position)")]),n("a-tooltip",{attrs:{placement:"top",title:"组件位置，坐标为组件的左上角"}},[n("a-icon",{staticStyle:{color:"#8c8c8c","margin-left":"5px",cursor:"pointer"},attrs:{type:"question-circle",theme:"filled"}})],1)],1)]),n("a-row",{attrs:{type:"flex"}},[n("a-col",{attrs:{span:12}},[n("label",[e._v("X: ")]),n("span",[e._v(e._s(e.position.x))])]),n("a-col",{attrs:{span:12}},[n("label",[e._v("Y: ")]),n("span",[e._v(e._s(e.position.y))])])],1)],2):e._e(),["MonitoringPoint"].includes(e.node.shape)?n("a-form-model-item",[n("template",{slot:"label"},[n("div",[n("span",[e._v("中心位置(Position)")]),n("a-tooltip",{attrs:{placement:"top",title:"监测点的正中心，与组件位置(左上角)右下各偏移5px"}},[n("a-icon",{staticStyle:{color:"#8c8c8c","margin-left":"5px",cursor:"pointer"},attrs:{type:"question-circle",theme:"filled"}})],1)],1)]),n("a-row",{attrs:{type:"flex"}},[n("a-col",{attrs:{span:12}},[n("label",[e._v("X ")]),n("a-input-number",{on:{change:function(t){return e.onNodeCenterPositionChange()}},model:{value:e.position.x,callback:function(t){e.$set(e.position,"x",t)},expression:"position.x"}})],1),n("a-col",{attrs:{span:12}},[n("label",[e._v("Y ")]),n("a-input-number",{on:{change:function(t){return e.onNodeCenterPositionChange()}},model:{value:e.position.y,callback:function(t){e.$set(e.position,"y",t)},expression:"position.y"}})],1)],1)],2):e._e(),["exhaust","exhaust-vertical","exhaust-B","exhaust-B-vertical","MonitoringPoint"].includes(e.node.shape)?e._e():n("a-form-model-item",{attrs:{label:"大小(Size)"}},[n("a-row",{attrs:{type:"flex"}},[n("a-col",{attrs:{span:12}},[n("label",[e._v("宽 ")]),n("a-input-number",{on:{change:function(t){return e.onNodeSizeChange()}},model:{value:e.size.width,callback:function(t){e.$set(e.size,"width",t)},expression:"size.width"}})],1),n("a-col",{attrs:{span:12}},[n("label",[e._v("高 ")]),n("a-input-number",{on:{change:function(t){return e.onNodeSizeChange()}},model:{value:e.size.height,callback:function(t){e.$set(e.size,"height",t)},expression:"size.height"}})],1)],1)],1),["MonitoringPoint"].includes(e.node.shape)?e._e():n("a-form-model-item",{attrs:{label:"填充颜色"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fill,expression:"form.fill"}],staticClass:"ant-input",attrs:{type:"color"},domProps:{value:e.form.fill},on:{input:[function(t){t.target.composing||e.$set(e.form,"fill",t.target.value)},function(t){return e.onNodeFillChange()}]}})]),["MonitoringPoint"].includes(e.node.shape)?e._e():n("a-form-model-item",{attrs:{label:"路径颜色"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.stroke,expression:"form.stroke"}],staticClass:"ant-input",attrs:{type:"color"},domProps:{value:e.form.stroke},on:{input:[function(t){t.target.composing||e.$set(e.form,"stroke",t.target.value)},function(t){return e.onNodeStrokeChange()}]}})]),["exhaust","exhaust-vertical","exhaust-B","exhaust-B-vertical","MonitoringPoint"].includes(e.node.shape)?e._e():n("a-form-model-item",{attrs:{label:"角度"}},[n("a-input-number",{attrs:{step:1,min:-360,max:360},on:{change:function(t){return e.onAngleChange()}},model:{value:e.angle,callback:function(t){e.angle=t},expression:"angle"}})],1),"triangle"===e.node.shape?n("a-form-model-item",{attrs:{label:"顶点偏移"}},[n("a-input-number",{attrs:{step:.1,min:0,max:1},on:{change:function(t){return e.onApexOffsetChange()}},model:{value:e.apexOffset,callback:function(t){e.apexOffset=t},expression:"apexOffset"}})],1):e._e(),["exhaust","exhaust-vertical","exhaust-B","exhaust-B-vertical","MonitoringPoint"].includes(e.node.shape)?e._e():n("a-form-model-item",{attrs:{label:"Power"}},[n("div",[n("a-auto-complete",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入类型"},model:{value:e.form.power_type,callback:function(t){e.$set(e.form,"power_type",t)},expression:"form.power_type"}},[n("template",{slot:"dataSource"},[n("a-select-option",{key:"uniform"},[e._v("uniform")]),n("a-select-option",{key:"gumbel"},[e._v("gumbel")]),n("a-select-option",{key:"normal"},[e._v("normal")]),n("a-select-option",{key:"lognormal"},[e._v("lognormal")])],1)],2)],1),e.form.power?n("div",{staticStyle:{"margin-top":"10px"}},[n("a-input-number",{attrs:{min:0,placeholder:"参数1"},on:{change:function(t){return e.onNodeDataChange()}},model:{value:e.form.power[0],callback:function(t){e.$set(e.form.power,0,t)},expression:"form.power[0]"}}),n("a-input-number",{staticStyle:{"margin-left":"10px"},attrs:{min:0,placeholder:"参数2"},on:{change:function(t){return e.onNodeDataChange()}},model:{value:e.form.power[1],callback:function(t){e.$set(e.form.power,1,t)},expression:"form.power[1]"}})],1):e._e()]),["exhaust","exhaust-vertical","exhaust-B","exhaust-B-vertical","MonitoringPoint"].includes(e.node.shape)?e._e():n("a-form-model-item",{attrs:{label:"Power_Dstribution"}},[n("a-auto-complete",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入类型"},model:{value:e.form.power_distribution,callback:function(t){e.$set(e.form,"power_distribution",t)},expression:"form.power_distribution"}},[n("template",{slot:"dataSource"},[n("a-select-option",{key:"gaussian"},[e._v("gaussian")]),n("a-select-option",{key:"uniform"},[e._v("uniform")])],1)],2)],1),"exhaust-B"===e.node.shape||"exhaust-B-vertical"===e.node.shape?n("a-form-model-item",{attrs:{label:"中心温度"}},[n("a-input-number",{on:{change:function(t){return e.onNodeDataChange()}},model:{value:e.form.center,callback:function(t){e.$set(e.form,"center",t)},expression:"form.center"}})],1):e._e()],1)],1)},Ot=[],zt=(n("1276"),n("fe0d")),Ct=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.data={},e.form={},e.size={width:0,height:0},e.position={x:0,y:0},e.angle=0,e.apexOffset=0,e.subscribes=[],e}return Object(x["a"])(n,[{key:"mounted",value:function(){this.onNodeChange(),this.initSubscribes()}},{key:"onNodeChange",value:function(){console.log(this.node),this.data=this.node.getData()||{},this.form=Object(zt["cloneDeep"])(this.data),this.angle=this.node.getAngle(),this.onNodeMove(),this.onNodeResize(),"triangle"===this.node.shape?(console.log(this.node.getProp().points),this.apexOffset=parseFloat(this.node.points.split(",")[0])):this.apexOffset=0}},{key:"onNodeMove",value:function(){"MonitoringPoint"!==this.node.shape?this.position=this.node.position():this.position=this.node.getBBox().center}},{key:"onNodeResize",value:function(){this.size=this.node.size()}},{key:"onNodeRotate",value:function(){this.angle=this.node.getAngle()}},{key:"initSubscribes",value:function(){this.subscribes.push(U.nodeMove$.subscribe(this.onNodeMoving)),this.subscribes.push(U.nodeResize$.subscribe(this.onNodeResized)),this.subscribes.push(U.nodeRotated$.subscribe(this.onNodeRotate))}},{key:"destroyed",value:function(){this.subscribes.forEach((function(e){return e.unsubscribe()}))}},{key:"onNodeDataChange",value:function(){this.node.prop("data",this.form)}},{key:"onNodeSizeChange",value:function(){this.size.width>0&&this.size.height>0&&this.node.resize(this.size.width,this.size.height)}},{key:"onSafetyBoxChange",value:function(){this.node.hasTool("boundary")&&(this.node.removeTool("boundary"),this.node.addTools({name:"boundary",args:{padding:this.data.minimum_margin,attrs:{stroke:"#D83A56",strokeWidth:2,fillOpacity:.2}}}))}},{key:"onNodePositionChange",value:function(){this.node.position(this.position.x,this.position.y)}},{key:"onNodeCenterPositionChange",value:function(){this.node.position(this.position.x-5,this.position.y-5)}},{key:"onNodeMoving",value:function(e){e&&e.id===this.node.id&&this.onNodeMove()}},{key:"onNodeResized",value:function(e){e&&e.id===this.node.id&&this.onNodeResize()}},{key:"onNodeFillChange",value:function(){console.log(this.form.fill),this.node.prop("attrs/body/fill",this.form.fill)}},{key:"onNodeStrokeChange",value:function(){console.log(this.form.stroke),this.node.prop("attrs/body/stroke",this.form.stroke)}},{key:"onApexOffsetChange",value:function(){this.node.points=(this.apexOffset||0).toString()+",0 0,1 1,1"}},{key:"onAngleChange",value:function(){this.angle<-360||this.angle>360||(this.angle||0===this.angle)&&this.node.rotate(parseFloat(this.angle.toString()),{absolute:!0})}}]),n}(g["c"]);Object(b["a"])([Object(g["b"])()],Ct.prototype,"node",void 0),Object(b["a"])([Object(g["d"])("node")],Ct.prototype,"onNodeChange",null),Ct=Object(b["a"])([Object(g["a"])({components:{}})],Ct);var $t=Ct,St=$t,Nt=(n("3e61"),Object(s["a"])(St,wt,Ot,!1,null,null,null)),Pt=Nt.exports,Bt=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.nodeConfigDrawer=!1,e.selectedNode=null,e.subscribes=[],e}return Object(x["a"])(n,[{key:"mounted",value:function(){this.subscribes.push(U.selectedNode$.subscribe(this.onSelectedNodeChange))}},{key:"onSelectedNodeChange",value:function(e){this.selectedNode=e,this.nodeConfigDrawer=!!this.selectedNode}},{key:"nodeConfigDrawerClose",value:function(){U.graph.unselect(this.selectedNode)}},{key:"destroyed",value:function(){this.subscribes.forEach((function(e){return e.unsubscribe()}))}}]),n}(g["c"]);Bt=Object(b["a"])([Object(g["a"])({components:{NodeProperty:Pt}})],Bt);var Mt=Bt,Dt=Mt,Et=(n("7591"),Object(s["a"])(Dt,jt,kt,!1,null,null,null)),It=Et.exports,Rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"status-manager"},[e.useMonitoringPoint?n("div",[n("a-tag",{attrs:{color:"red"}},[e._v(" 添加监测点模式 (松开"),n("span",{staticClass:"keybord"},[e._v("Alt")]),e._v("关闭) ")])],1):e._e()])},Ft=[],Yt=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.useMonitoringPoint=!1,e.subscribes=[],e}return Object(x["a"])(n,[{key:"mounted",value:function(){this.initSubscribes()}},{key:"initSubscribes",value:function(){var e=this;this.subscribes.push(U.useMonitoringPoint$.subscribe((function(t){e.useMonitoringPoint=t})))}},{key:"destroyed",value:function(){this.subscribes.forEach((function(e){return e.unsubscribe()}))}}]),n}(g["c"]);Yt=Object(b["a"])([Object(g["a"])({components:{}})],Yt);var At=Yt,Wt=At,Vt=(n("7cd1"),Object(s["a"])(Wt,Rt,Ft,!1,null,null,null)),qt=Vt.exports,Tt=function(e){Object(m["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(f["a"])(this,n),t.apply(this,arguments)}return n}(g["c"]);Tt=Object(b["a"])([Object(g["a"])({components:{GraphView:oe,ToolBar:_t,ConfigBar:It,StatusManager:qt}})],Tt);var Ht=Tt,Lt=Ht,Ut=Object(s["a"])(Lt,d,p,!1,null,null,null),Jt=Ut.exports;i["default"].use(u["a"]);var Xt=[{path:"/",name:"Index",component:Jt}],Gt=new u["a"]({routes:Xt}),Kt=Gt,Qt=n("2f62");i["default"].use(Qt["a"]);var Zt=new Qt["a"].Store({state:{},mutations:{},actions:{},modules:{}}),en=(n("202f"),n("f23d"));n("5b0a");i["default"].config.productionTip=!1,i["default"].use(en["a"]),new i["default"]({router:Kt,store:Zt,render:function(e){return e(c)}}).$mount("#app")},e1ca:function(e,t,n){},ecc3:function(e,t,n){},f7a8:function(e,t,n){"use strict";n("787b")}});
//# sourceMappingURL=app.08582802.js.map